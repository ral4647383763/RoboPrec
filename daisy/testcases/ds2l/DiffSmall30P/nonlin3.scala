import daisy.lang._
import Real._
import daisy.lang.Vector._

object nonlin3 {

	def nonlin3(x: Vector, y: Vector): Vector = {
require(x >= 0.0 && x <= 1.0 && x.size(100)
	 && x.specV(Set(((0, 0),(0.03, 0.11)), ((2, 5),(0.81, 0.85)), ((6, 6),(0.63, 0.83)),
((9, 11),(0.29, 0.63)), ((12, 12),(0.1, 0.1)), ((13, 14),(0.2, 0.76)),
((32, 42),(0.32, 0.42)), ((47, 57),(0.02, 0.26)), ((64, 74),(0.28, 0.72)),
((95, 95),(0.32, 0.37)), ((1, 1),(0.15, 0.34)), ((7, 7),(0.19, 0.7)),
((8, 8),(0.36, 0.44)), ((15, 17),(0.52, 0.63)), ((18, 18),(0.66, 0.79)),
((19, 21),(0.62, 0.97)), ((26, 26),(0.43, 0.5)), ((27, 27),(0.35, 0.83)),
((28, 28),(0.55, 0.7)), ((43, 43),(0.7, 0.82)), ((44, 46),(0.45, 0.89)),
((61, 61),(0.7, 0.89)), ((62, 62),(0.49, 0.82)), ((63, 63),(0.16, 0.28)),
((88, 89),(0.55, 0.85)), ((90, 91),(0.6, 0.96)), ((92, 92),(0.12, 0.26)),
((96, 96),(0.25, 0.9)), ((97, 97),(0.17, 0.53)), ((98, 99),(0.57, 0.72))))
	 && y >= 0.0 && y <= 1.0 && y.size(100)
	 && y.specV(Set(((0, 0),(0.7, 0.83)), ((1, 11),(0.59, 0.97)), ((12, 12),(0.52, 0.96)),
((13, 23),(0.16, 0.58)), ((24, 25),(0.82, 0.94)), ((27, 33),(0.17, 0.23)),
((34, 35),(0.77, 0.94)), ((36, 46),(0.49, 0.99)), ((83, 93),(0.1, 0.56)),
((94, 97),(0.1, 0.33)), ((26, 26),(0.2, 0.47)), ((47, 47),(0.79, 0.86)),
((48, 49),(0.4, 0.79)), ((53, 53),(0.54, 0.65)), ((58, 58),(0.24, 0.77)),
((59, 59),(0.65, 1.0)), ((60, 61),(0.26, 0.4)), ((62, 62),(0.26, 0.78)),
((63, 63),(0.77, 0.85)), ((64, 64),(0.17, 0.73)), ((66, 67),(0.27, 0.29)),
((68, 68),(0.35, 0.78)), ((69, 69),(0.38, 0.64)), ((70, 71),(0.68, 0.81)),
((72, 72),(0.2, 0.86)), ((73, 74),(0.52, 0.64)), ((75, 76),(0.21, 0.86)),
((77, 78),(0.47, 0.71)), ((80, 80),(0.02, 0.39)), ((98, 99),(0.45, 0.54))))
	)

        //x := x + 0.01 * (-x + y*y)
        val x1: Real = y.fold(x.head)((acc: Real, yi: Real) => {acc + 0.01 * (-acc + yi*yi)})
        //y := y + 0.01 * (-2.0*y + 3.0*x*x)
        val y1: Real = x.fold(y.head)((acc: Real, xi: Real) => {acc + 0.01 * (-2.0*acc + 3.0*xi*xi)})
        Vector(List(x1, y1))
    }


}