import daisy.lang._
import Real._
import daisy.lang.Vector._

object variance {

	def variance(x: Vector): Real = {
require(x >= -252.68 && x <= 72.42 && x.size(1000)
	 && x.specV(Set(((18, 27),(23.23, 57.45)), ((36, 45),(-245.59, 31.1)), ((46, 46),(-242.2, -22.02)),
((47, 47),(-98.82, 38.51)), ((48, 57),(-252.62, -61.79)), ((58, 61),(-125.4, 48.63)),
((62, 66),(15.72, 25.43)), ((67, 67),(-171.9, 63.4)), ((68, 77),(-217.23, -202.49)),
((79, 81),(-82.86, -30.94)), ((84, 85),(-18.04, 53.4)), ((88, 89),(-42.23, -4.04)),
((90, 90),(-104.0, -73.39)), ((91, 100),(-239.82, 1.65)), ((101, 101),(-177.07, 46.39)),
((102, 105),(-153.92, -42.83)), ((106, 107),(-211.08, -170.82)), ((108, 109),(-45.82, -25.57)),
((110, 119),(-229.81, -216.23)), ((120, 128),(-82.19, -63.18)), ((129, 132),(-179.99, -126.51)),
((133, 140),(-249.28, -57.28)), ((141, 141),(-154.66, -102.91)), ((142, 142),(-43.13, 59.07)),
((143, 143),(-98.16, 34.63)), ((144, 153),(-176.36, -172.36)), ((154, 154),(-23.6, 59.62)),
((155, 156),(-245.6, -152.74)), ((157, 166),(-90.68, -33.41)), ((167, 168),(-169.05, -116.13)),
((169, 170),(-35.72, 48.09)), ((171, 171),(-241.59, -178.95)), ((172, 176),(-142.78, -115.96)),
((177, 179),(-188.28, -30.78)), ((180, 182),(-12.39, 6.45)), ((183, 192),(-185.96, -88.54)),
((194, 203),(-151.34, 62.62)), ((204, 206),(-177.64, 13.9)), ((207, 216),(-180.69, -5.45)),
((217, 217),(-156.8, 56.79)), ((218, 227),(-191.78, -91.51)), ((233, 239),(-180.08, -117.1)),
((260, 269),(-36.39, 55.76)), ((270, 279),(-205.09, -124.77)), ((320, 329),(-183.45, 64.01)),
((341, 350),(-235.83, -206.54)), ((532, 540),(-233.13, -124.81)), ((541, 547),(34.57, 39.31)),
((548, 551),(-14.47, 71.62)), ((552, 559),(-145.64, 50.18)), ((560, 569),(-192.37, 51.58)),
((570, 574),(-242.31, -10.06)), ((575, 575),(-129.59, -36.67)), ((576, 581),(-144.85, -131.13)),
((582, 582),(-251.75, -197.65)), ((583, 586),(-161.71, -138.42)), ((587, 596),(-212.46, 57.96)),
((597, 606),(-185.25, 60.8)), ((607, 607),(-136.74, 14.41)), ((608, 617),(-112.09, 14.55)),
((618, 618),(-236.67, -98.76)), ((619, 619),(-131.51, 46.25)), ((620, 622),(-189.93, -134.26)),
((623, 624),(-242.84, 38.93)), ((626, 626),(-119.13, 11.24)), ((627, 632),(-239.46, -3.44)),
((639, 639),(-241.35, -232.34)), ((640, 643),(-169.12, 46.44)), ((646, 648),(-9.74, 39.44)),
((649, 658),(-164.15, -142.45)), ((675, 680),(-52.1, 58.66)), ((681, 681),(-167.45, -19.7)),
((682, 691),(-163.07, -149.79)), ((700, 706),(-251.45, -7.02)), ((707, 716),(-46.57, 45.26)),
((723, 727),(-244.79, 53.97)), ((728, 728),(-176.65, -98.2)), ((729, 729),(57.44, 58.37)),
((731, 735),(-171.06, -127.02)), ((736, 745),(-112.91, -92.25)), ((746, 746),(-193.21, 49.05)),
((748, 755),(-12.6, 8.23)), ((756, 756),(-1.44, 14.8)), ((757, 757),(-146.11, -55.26)),
((758, 759),(-148.79, -135.04)), ((760, 760),(-226.99, 1.63)), ((761, 761),(-188.53, -7.92)),
((762, 762),(-231.64, -172.28)), ((763, 772),(-241.67, -73.03)), ((779, 788),(-146.78, 66.0)),
((846, 851),(34.54, 68.46)), ((855, 861),(-225.34, -166.56)), ((863, 872),(-221.33, -90.63)),
((886, 895),(-107.37, -21.93)), ((920, 928),(-176.54, -117.17)), ((931, 940),(-51.02, -33.53)),
((941, 950),(-9.51, 22.68)), ((952, 953),(-213.29, -36.68)), ((954, 963),(-157.17, 20.69)),
((979, 983),(-131.43, -68.39))))
	)

        val n: Real = x.length()
        val y = x.fold(0.0)((acc: Real, i: Real) => acc + i)
        val avg = y / n

        val z = x.fold(0.0)((acc: Real, i: Real) => acc + pow(i - avg, 2))
        z / n
    }


}